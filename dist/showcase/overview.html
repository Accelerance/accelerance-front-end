{% macro timeZoneDifference(usTimeZone) %}
  {% if usTimeZone < partner.time_zone %}
    {% set aheadOrBehind = '+' %}
  {% elif usTimeZone > partner.time_zone  %}
    {% set aheadOrBehind = '-' %}
  {% endif %}
  {% if (usTimeZone > 0 and partner.time_zone > 0) or (usTimeZone < 0 and partner.time_zone < 0)%}
    {{ aheadOrBehind }}{{ ((usTimeZone|abs) - (partner.time_zone|abs))|abs }}
  {% else (usTimeZone > 0 and partner.time_zone < 0) or (usTimeZone < 0 and partner.time_zone > 0) %}
    {{ aheadOrBehind }}{{ ((usTimeZone|abs) + (partner.time_zone))|abs}}
  {% endif %}
{% endmacro %}

<!--#region overview-->
        <div class='tabcontent' id="overview">
          
          <div class="equal-heights row-fluid-wrapper">
            <div class="row-fluid">
              <div class="span5 border-box assesment-depth">
                <h3 style='text-align: center;'>Assessment Depth <i id="assessment-info" style="line-height: 36px;font-size: 18px;" class="fas fa-info-circle"></i></h3>
                <div id="assessment-description" style="display: none;text-align: left!important;">
                    <p>This metric indicates the depth of the Accelerance assessment of this company across more than 500 software outsourcing criteria.</p>
                  </div>
     						<div id="guage" style="text-align: center;"></div>
                <h4>High</h4>
              </div><!--end widget-span -->
              <div class="span7 border-box">
                <script src="https://fast.wistia.com/embed/medias/{{ partner.overview_top_video_id }}.jsonp" async></script><script src="https://fast.wistia.com/assets/external/E-v1.js" async></script><div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><div class="wistia_embed wistia_async_{{ partner.overview_top_video_id }} videoFoam=true" style="height:100%;position:relative;width:100%"><div class="wistia_swatch" style="height:100%;left:0;opacity:0;overflow:hidden;position:absolute;top:0;transition:opacity 200ms;width:100%;"><img src="https://fast.wistia.com/embed/medias/{{ partner.overview_top_video_id }}/swatch" style="filter:blur(5px);height:100%;object-fit:contain;width:100%;" alt="" onload="this.parentNode.style.opacity=1;" /></div></div></div></div>
              </div><!--end widget-span -->
            </div><!--end row-->
          </div><!--end row-wrapper -->        
        
          
            <div class="row-fluid-wrapper equal-heights">
              <div class="row-fluid ">
                <div class="span8 border-box padding about">
                  <h3>About {{partner.name}}</h3>
                  {{partner.about|truncate(350)}}
                  <div id="myTemplate" style="display: none;text-align: left!important;">
                    {{partner.about}}
                  </div>
                  <a class='btn'>Read more &rarr;</a>
                </div><!--end widget-span -->
                <div class="span4 border-box center">
                  <h3>Developer Count</h3>
                  <h2 class='counter' style="display: inline-block;font-weight: 900; font-size:64px; margin: 20px;margin-bottom: 0px;" data-count="{{ partner.number_of_developers }}">0</h2>
                  <h4 style='margin-top:0px'>FULL TIME DEVELOPERS</h4>
                </div><!--end widget-span -->
              </div><!--end row-->
            </div><!--end row-wrapper -->
        
         <div class="row-fluid-wrapper equal-heights">
          <div class="row-fluid ">
            <div class="span6 border-box padding center">
            
              <h3>Timezone Difference</h3>
              <div class='timezone-container'>
                <table>
                  <tbody>
                    <thead>
                      <tr>
                        <th valign="middle"><h4>SEATTLE</h4></th> 
                        <th valign="middle"><h4>NEW YORK</h4></th>
                        <th valign="middle"><h4>LONDON</h4></th>
                      </tr>
                    </thead>
                    <tr>
                      <td style="border-right: 1px solid #d8d8d8"><h3 class='counter' data-count='{{ timeZoneDifference(-7) }}'>0</h3></td>
                      <td style="border-right: 1px solid #d8d8d8"><h3 class='counter' data-count='{{ timeZoneDifference(-4) }}'>0</h3></td>
                      <td><h3 class='counter' data-count='{{ timeZoneDifference(1) }}'>0</h3></td>
                    </tr>
                   </tbody>
                </table>
              </div>
              
            </div><!--end widget-span -->
            <div class="span6 border-box container-map">
							<iframe width="100%" height="415px"  frameborder="0" style="border:0;display:block;" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyCwa_3fNdIP0YFCtrMgFgTRpqUj8RYPrEo&q={{ partner.country }},{{ partner.city }}"></iframe>
            </div><!--end widget-span -->
        	</div><!--end row-->
        </div><!--end row-wrapper -->
        
         <div class="row-fluid-wrapper equal-heights">
          <div class="row-fluid ">
            <div class="span4 center border-box">
              <h3>English Skills</h3>
                {% if partner.english_skills.name == 'A' %}
                  <h2 style="color:#91BC63; font-weight: 900; font-size: 64px;">{{ partner.english_skills.name }}</h2>
              		<h4 style="color:#91BC63; font-weight: 900;">Fluent</h4>
              	{% elif partner.english_skills.name == 'B' %}
              		<h2 style="color:#91BC63; font-weight: 900; font-size: 64px;">{{ partner.english_skills.name }}</h2>
                {% endif %}
            </div><!--end widget-span -->
            <div class="span4 padding border-box">
							<h3>Services</h3>
              
              <ul>
              {% module "module_1539286716621128" module_id="4114090" label="Services (Overview)" %}
              </ul>
            </div><!--end widget-span -->
            <div class="span4 padding border-box">
							<h3>Technologies</h3>
              <ul>
              {% module "module_1539287283715180" module_id="4115175" label="Technologies (Overview)" %}
              </ul>
            </div><!--end widget-span -->
        	</div><!--end row-->
        </div><!--end row-wrapper -->
        
        <div class="row-fluid-wrapper equal-heights">
          <div class="row-fluid ">
            <div class="span4 center border-box">
              <h3>Partner Since</h3>
              <h2 class='counter' style="display: inline-block;font-weight: 900; font-size:64px;border-bottom: 8px solid #1FBDE5;" data-count="{{ partner.partner_since }}">0</h2>
            </div><!--end widget-span -->
            <div class="span8 padding center border-box">
							<div class="your-class">
                {% set photoArray = [partner.photo0, partner.photo1, partner.photo2, partner.photo3, partner.photo4, partner.photo5, partner.photo6, partner.photo7, partner.photo8, partner.photo9] %}
                {% for photo in photoArray %}
                	{% if photo.url %}
                		<div><img data-src="{{ photo.url }}"></div>
                	{% endif %}
                {% endfor %}
                
                
              </div>
            </div><!--end widget-span -->
        	</div><!--end row-->
        </div><!--end row-wrapper -->

        </div>
      	<!--#endregion overview-->